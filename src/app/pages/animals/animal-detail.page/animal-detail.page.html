<div class="page-pad" *ngIf="animal() as a">
  <div class="header">
    <button mat-button (click)="back()">
      <mat-icon>arrow_back</mat-icon>
      Back
    </button>

    <h1 class="title">
      {{ a.name }}
      <small>‚Ä¢ {{ a.type }} ‚Ä¢ {{ a.gender }} ‚Ä¢ {{ a.diet }}</small>
    </h1>
  </div>

  <mat-card>
    <mat-tab-group>
      <mat-tab label="Overview">
        <div class="tab-pad">
          <div class="kv">
            <div><strong>Age:</strong> {{ a.age }}</div>
            <div><strong>Color:</strong> {{ a.color }}</div>
            <div><strong>Abilities:</strong>
              <ng-container>
                <mat-icon *ngIf="a.canWalk" aria-label="Walk">directions_walk</mat-icon>
                <mat-icon *ngIf="a.canSwim" aria-label="Swim">pool</mat-icon>
                <mat-icon *ngIf="a.canFly"  aria-label="Fly">flight</mat-icon>
                <span *ngIf="!a.canWalk && !a.canSwim && !a.canFly">None</span>
              </ng-container>
            </div>
          </div>
        </div>
      </mat-tab>

<!-- Health tab (g√ºncel) -->
<mat-tab label="Health">
  <div class="tab-pad">
    <button mat-raised-button color="primary" (click)="openHealthDialog()">Add Health Check</button>

    <ng-container *ngIf="health() as checks; else emptyHealth">
      <div *ngIf="checks.length === 0; else list">No health checks found.</div>

      <ng-template #list>
        <div class="card" *ngFor="let h of checks">
          <div class="card-header">
            <span class="date">{{ h.checkTime | date:'yyyy-MM-dd HH:mm' }}</span>
            <span class="spacer"></span>
            <!-- (ƒ∞steƒüe baƒülƒ±) silme butonu
            <button mat-icon-button color="warn" (click)="deleteHealthCheck(h.id)" aria-label="Delete health check">
              <mat-icon>delete</mat-icon>
            </button>
            -->
          </div>

          <div class="condition" *ngIf="h.condition">ü©∫ {{ h.condition }}</div>
          <div class="temp" *ngIf="h.temperatureC !== null && h.temperatureC !== undefined">üå°Ô∏è {{ h.temperatureC }} ¬∞C</div>
          <div class="hr" *ngIf="h.heartRateBpm !== null && h.heartRateBpm !== undefined">‚ù§Ô∏è {{ h.heartRateBpm }} bpm</div>
          <div class="rr" *ngIf="h.respirationRpm !== null && h.respirationRpm !== undefined">üí® {{ h.respirationRpm }} rpm</div>
          <div class="notes" *ngIf="h.notes">{{ h.notes }}</div>
        </div>
      </ng-template>
    </ng-container>

    <ng-template #emptyHealth>
      <p>No health checks found.</p>
    </ng-template>
  </div>
</mat-tab>

<mat-tab label="Feed Log">
  <div class="tab-pad">
    <button mat-raised-button color="primary" (click)="addFeedLog()">Add Feed Log</button>

    <ng-container *ngIf="feedLogs() as logs; else emptyFeed">
      <div *ngIf="logs.length === 0; else list">No feed logs found.</div>
      <ng-template #list>
        <div class="card" *ngFor="let l of logs">
          <div class="card-header">
            <span class="date">{{ l.feedTime }}</span>
            <span class="food">üçó {{ l.foodItem }}</span>
          </div>
          <div class="qty" *ngIf="l.quantityGrams">‚öñÔ∏è {{ l.quantityGrams }} g</div>
          <div class="water" *ngIf="l.waterMilliliters">üíß {{ l.waterMilliliters }} ml</div>
          <div class="notes" *ngIf="l.notes">{{ l.notes }}</div>
        </div>
      </ng-template>
    </ng-container>

    <ng-template #emptyFeed>
      <p>No feed logs found.</p>
    </ng-template>
  </div>
</mat-tab>

